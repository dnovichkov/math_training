<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>–ë–æ–ª—å—à–µ ‚Äî –ú–µ–Ω—å—à–µ ‚Äî –†–∞–≤–Ω–æ ‚Äî –¢—Ä–µ–Ω–∞–∂—ë—Ä (2 –∫–ª–∞—Å—Å)</title>
  <meta name="description" content="–ú–æ–±–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–∞–∂—ë—Ä –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —á–∏—Å–µ–ª: –≤—ã–±–µ—Ä–∏ –∑–Ω–∞–∫ >, < –∏–ª–∏ =. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Å–º–∞—Ä—Ç—Ñ–µ—Ç–æ–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤.">
  <meta property="og:title" content="–ë–æ–ª—å—à–µ ‚Äî –ú–µ–Ω—å—à–µ ‚Äî –†–∞–≤–Ω–æ ‚Äî –¢—Ä–µ–Ω–∞–∂—ë—Ä (2 –∫–ª–∞—Å—Å)">
  <meta property="og:description" content="–ú–æ–±–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–∞–∂—ë—Ä –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —á–∏—Å–µ–ª: –≤—ã–±–µ—Ä–∏ –∑–Ω–∞–∫ >, < –∏–ª–∏ =. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Å–º–∞—Ä—Ç—Ñ–µ—Ç–æ–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤.">
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"LearningResource",
    "name":"–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —á–∏—Å–µ–ª ‚Äî —Ç—Ä–µ–Ω–∞–∂—ë—Ä (2 –∫–ª–∞—Å—Å)",
    "educationalLevel":"Grade 2",
    "learningResourceType":"InteractiveExercise",
    "description":"–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç—Ä–µ–Ω–∞–∂—ë—Ä: –≤—ã–±–µ—Ä–∏ –∑–Ω–∞–∫ –±–æ–ª—å—à–µ/–º–µ–Ω—å—à–µ/—Ä–∞–≤–Ω–æ –¥–ª—è –¥–≤—É—Ö —á–∏—Å–µ–ª. –ú–æ–±–∏–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω –∏ —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.",
    "url":"https://example.github.io/exercise-02-bolshe-menshe.html"
  }
  </script>

  <style>
    /* Mobile-first styling with fixed horizontal compare layout */
    :root{
      --bg:#f8fbff; --card:#ffffff; --accent:#2b8cff; --muted:#6b7280; --success:#2aa653; --error:#e03d3d;
      --touch:56px; /* target size for touch controls */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{font-family:Inter,Segoe UI,Arial,Helvetica,sans-serif;margin:0;padding:14px;background:var(--bg);color:#0f172a;-webkit-font-smoothing:antialiased}

    header{max-width:920px;margin:0 auto 12px;display:flex;align-items:center;gap:12px}
    .logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#7cc4ff);display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
    h1{font-size:1.25rem;margin:0}
    .meta{color:var(--muted);font-size:0.92rem}

    main{max-width:920px;margin:0 auto;background:var(--card);border-radius:14px;padding:12px;box-shadow:0 6px 20px rgba(15,23,42,0.06)}

    /* Controls row (mobile: stacked) */
    .controls{display:flex;flex-direction:column;gap:8px}
    .controls-row{display:flex;gap:8px;align-items:center;width:100%}
    .controls select,.controls button,.controls input{padding:10px 12px;border-radius:10px;border:1px solid #dbeafe;background:white;font-size:1rem}
    .controls .right{margin-left:auto}

    /* Game area */
    .game{display:flex;flex-direction:column;gap:12px}
    .panel{padding:12px;border-radius:12px;background:linear-gradient(180deg,#fbfdff,#ffffff);border:1px solid #eef2ff}

    /* --- Fix: –≤—Å–µ–≥–¥–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ --- */
    .compare{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:12px;padding:6px;flex-wrap:nowrap}

    /* –ß–∏—Å–ª–∞: –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    .num{font-size:2.4rem;font-weight:800;width:auto;min-width:56px;text-align:center;line-height:1}

    /* –ó–Ω–∞–∫–∏: –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
    .signs{display:flex;flex-direction:row;gap:8px;align-items:center;justify-content:center}
    .sign-btn{flex:0 0 auto;width:64px;height:var(--touch);font-size:1.4rem;border-radius:12px;border:1px solid #dbeafe;background:linear-gradient(180deg,#fff,#f7fbff);display:flex;align-items:center;justify-content:center;cursor:pointer}
    .sign-btn.active{box-shadow:0 6px 18px rgba(43,140,255,0.12);outline:none}

    .actions{display:flex;gap:8px;flex-wrap:wrap}
    .actions button{flex:1;padding:10px;border-radius:10px}

    .feedback{min-height:42px;margin-top:6px;font-weight:700;text-align:center}
    .feedback.success{color:var(--success)}
    .feedback.error{color:var(--error)}

    .aside{display:flex;flex-direction:column;gap:10px}
    .hint-list{color:var(--muted);font-size:0.95rem;padding-left:14px}

    footer{max-width:920px;margin:12px auto 0;color:var(--muted);font-size:0.9rem}

    /* Larger screens: two-column layout, vertical signs optional */
    @media(min-width:780px){
      .controls{flex-direction:row;align-items:center}
      .game{flex-direction:row;gap:18px}
      .compare{padding:20px}
      .num{font-size:3rem}
      /* –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∑–Ω–∞–∫–æ–≤ */
      .signs{flex-direction:column}
      .sign-btn{width:72px;height:56px;font-size:1.6rem}
      .actions button{flex:auto}
      .aside{width:320px}
    }

    /* Accessibility focus */
    .sign-btn:focus{outline:3px solid rgba(43,140,255,0.18)}

    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
<a href="index.html" class="home-btn">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>

<style>
  .home-btn {
    display: inline-block;
    margin: 10px;
    padding: 12px 18px;
    font-size: 18px;
    background-color: #4CAF50;
    color: white;
    border-radius: 8px;
    text-decoration: none;
  }
  .home-btn:hover {
    background-color: #45a049;
  }
</style>

  <header>
    <div class="logo" aria-hidden>–ú2</div>
    <div>
      <h1>–ë–æ–ª—å—à–µ ‚Äî –ú–µ–Ω—å—à–µ ‚Äî –†–∞–≤–Ω–æ</h1>
      <div class="meta">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —á–∏—Å–µ–ª –¥–ª—è 2‚Äë–≥–æ –∫–ª–∞—Å—Å–∞ (–ú–æ—Ä–æ –ú.–ò. –∏ –¥—Ä.).</div>
    </div>
  </header>

  <main>
    <div class="controls" role="region" aria-label="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ">
      <div class="controls-row">
        <label for="level" class="sr-only">–£—Ä–æ–≤–µ–Ω—å</label>
        <select id="level" aria-label="–£—Ä–æ–≤–µ–Ω—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è">
          <option value="1">1 ‚Äî –¥–æ 20 (–±–µ–∑ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞)</option>
          <option value="2" selected>2 ‚Äî –¥–æ 99 (–≤–∫–ª—é—á–∞—è —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ)</option>
          <option value="3">3 ‚Äî —Å–µ—Ä–∏—è (–±—ã—Å—Ç—Ä–æ)</option>
        </select>
        <label for="seriesCount" class="sr-only">–î–ª–∏–Ω–∞ —Å–µ—Ä–∏–∏</label>
        <input id="seriesCount" type="number" min="1" max="50" value="10" style="width:96px" aria-label="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –≤ —Å–µ—Ä–∏–∏">
        <button id="swapBtn" aria-label="–ü–æ–º–µ–Ω—è—Ç—å —á–∏—Å–ª–∞">–ü–æ–º–µ–Ω—è—Ç—å</button>
        <div class="right" aria-hidden>–õ—É—á—à–∏–π: <span id="best">‚Äî</span></div>
      </div>
      <div class="controls-row">
        <input id="student" placeholder="–ò–º—è —É—á–µ–Ω–∏–∫–∞ (–ª–æ–∫–∞–ª—å–Ω–æ)" aria-label="–ò–º—è —É—á–µ–Ω–∏–∫–∞" style="flex:1">
        <div class="right" style="font-size:0.95rem;color:var(--muted);">–ü—Ä–æ–≥—Ä–µ—Å—Å: <span id="progress">0/10</span></div>
      </div>
    </div>

    <section class="game" aria-labelledby="gameHeading">
      <article class="panel" id="mainPanel">
        <div id="gameHeading" class="sr-only">–ò–≥—Ä–æ–≤–∞—è –æ–±–ª–∞—Å—Ç—å: —Å—Ä–∞–≤–Ω–∏—Ç–µ —á–∏—Å–ª–∞</div>

        <div class="compare" role="group" aria-label="–°—Ä–∞–≤–Ω–∏—Ç–µ –¥–≤–∞ —á–∏—Å–ª–∞">
          <div class="num" id="left">‚Äî</div>

          <div class="signs" role="radiogroup" aria-label="–í—ã–±–µ—Ä–∏—Ç–µ –∑–Ω–∞–∫">
            <button class="sign-btn" data-sign=">" id="gtBtn" aria-pressed="false">&gt;</button>
            <button class="sign-btn" data-sign="<" id="ltBtn" aria-pressed="false">&lt;</button>
            <button class="sign-btn" data-sign="=" id="eqBtn" aria-pressed="false">=</button>
          </div>

          <div class="num" id="right">‚Äî</div>
        </div>

        <div class="actions" role="group">
          <button id="checkBtn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
          <button id="explainBtn">–ü–æ—è—Å–Ω–∏—Ç—å</button>
          <button id="allBtn">–ü—Ä–∏–º–µ—Ä</button>
        </div>

        <div id="feedback" class="feedback" role="status" aria-live="polite"></div>
        <div id="explain" style="color:var(--muted);margin-top:8px;text-align:center"></div>
      </article>

      <aside class="aside" aria-label="–ü–æ–¥—Å–∫–∞–∑–∫–∏">
        <div class="panel">
          <h2 style="margin:0 0 8px 0">–ü–æ–¥—Å–∫–∞–∑–∫–∏</h2>
          <ul class="hint-list">
            <li>–°—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –¥–µ—Å—è—Ç–∫–∏, –∑–∞—Ç–µ–º –µ–¥–∏–Ω–∏—Ü—ã.</li>
            <li>–ï—Å–ª–∏ —á–∏—Å–ª–∞ —Ä–∞–≤–Ω—ã ‚Äî –∑–Ω–∞–∫ =.</li>
            <li>–£—Ä–æ–≤–µ–Ω—å 3 ‚Äî —Å–µ—Ä–∏–π–Ω—ã–π —Ä–µ–∂–∏–º: 5 –∑–∞–¥–∞—á –ø–æ–¥—Ä—è–¥.</li>
          </ul>
        </div>

        <div class="panel">
          <strong>–ü–∞–º—è—Ç—å:</strong>
          <div style="color:var(--muted);margin-top:6px">–ò–º—è –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞ —ç—Ç–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.</div>
        </div>
      </aside>
    </section>
  </main>

  <footer>
    –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞: –ú–æ—Ä–æ –ú.–ò., –ë–∞–Ω—Ç–æ–≤–∞ –ú.–ê., –ë–µ–ª—å—Ç—é–∫–æ–≤–∞ –ì.–í. ‚Äî ¬´–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞. 2 –∫–ª–∞—Å—Å¬ª.
  </footer>

  <script>
    (function(){
      const levelEl = document.getElementById('level');
      const leftEl = document.getElementById('left');
      const rightEl = document.getElementById('right');
      const swapBtn = document.getElementById('swapBtn');
      const checkBtn = document.getElementById('checkBtn');
      const explainBtn = document.getElementById('explainBtn');
      const allBtn = document.getElementById('allBtn');
      const feedback = document.getElementById('feedback');
      const explain = document.getElementById('explain');
      const student = document.getElementById('student');
      const best = document.getElementById('best');
      const summary = document.getElementById('summary');
      const signButtons = Array.from(document.querySelectorAll('.sign-btn'));
      const seriesCountEl = document.getElementById('seriesCount');
      const progressEl = document.getElementById('progress');

      let left=0,right=0; let selectedSign=null;
      let streak = parseInt(localStorage.getItem('compare_streak')||'0',10);
      let bestVal = parseInt(localStorage.getItem('compare_best')||'0',10) || 0;
      best.textContent = bestVal>0?('‚òÖ'.repeat(Math.min(bestVal,3))):'‚Äî';

      let seriesTotal = Math.max(1, parseInt(seriesCountEl.value || '10',10));
      let seriesCurrent = 0; // —Å–∫–æ–ª—å–∫–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
      const advanceDelay = 450; // ms pause before next example so feedback —á–∏—Ç–∞–µ–º

      function randInt(a,b){return Math.floor(Math.random()*(b-a+1))+a}

      function genPair(){
        const lvl = Number(levelEl.value);
        if(lvl===1){
          left = randInt(1,20); right = randInt(1,20);
          while(left===right) right = randInt(1,20);
        } else if(lvl===2){
          left = randInt(1,99); right = randInt(1,99);
        } else {
          left = randInt(1,99); right = randInt(1,99);
        }
        render();
      }

      function render(){
        leftEl.textContent = left; rightEl.textContent = right;
        selectedSign = null; signButtons.forEach(b=>{b.classList.remove('active'); b.setAttribute('aria-pressed','false')});
        feedback.textContent = ''; explain.textContent='';
        updateProgress();
      }

      function updateProgress(){
        seriesTotal = Math.max(1, parseInt(seriesCountEl.value || '10',10));
        progressEl.textContent = seriesCurrent + '/' + seriesTotal;
      }

      signButtons.forEach(btn=>{
        btn.addEventListener('click', ()=>{
          signButtons.forEach(b=>{b.classList.remove('active'); b.setAttribute('aria-pressed','false')});
          btn.classList.add('active');
          btn.setAttribute('aria-pressed','true');
          selectedSign = btn.dataset.sign;
        });
      });

      function correctSign(){ if(left>right) return '>'; if(left<right) return '<'; return '='; }

      function endSeries(){
        feedback.className='feedback success';
        feedback.textContent = '–°–µ—Ä–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö: '+seriesCurrent+' –∏–∑ '+seriesTotal+'. –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º.';
        // disable interaction until user changes series count or level
        signButtons.forEach(b=>b.disabled=true);
        checkBtn.disabled=true;
      }

      function check(){
        if(!selectedSign){ feedback.className='feedback error'; feedback.textContent='–í—ã–±–µ—Ä–∏—Ç–µ –∑–Ω–∞–∫.'; return; }
        const corr = correctSign();
        if(selectedSign===corr){
          seriesCurrent += 1;
          feedback.className='feedback success';
          feedback.textContent = '–ü—Ä–∞–≤–∏–ª—å–Ω–æ: '+left+' '+corr+' '+right;
          updateStats(true);
          updateProgress();
          if(seriesCurrent >= seriesTotal){
            // –∑–∞–≤–µ—Ä—à–∏–ª–∏ —Å–µ—Ä–∏—é
            setTimeout(()=>{ endSeries(); }, advanceDelay);
          } else {
            // –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø—Ä–∏–º–µ—Ä—É —á–µ—Ä–µ–∑ –∫–æ—Ä–æ—Ç–∫—É—é –ø–∞—É–∑—É
            setTimeout(()=>{ genPair(); }, advanceDelay);
          }
        } else {
          feedback.className='feedback error';
          feedback.textContent = '–ù–µ–≤–µ—Ä–Ω–æ: '+left+' '+corr+' '+right;
          updateStats(false);
        }
      }

      function updateStats(ok){
        let s = parseInt(localStorage.getItem('compare_streak')||'0',10);
        let b = parseInt(localStorage.getItem('compare_best')||'0',10);
        if(ok){ s+=1; if(s>b) b=s; } else s=0;
        localStorage.setItem('compare_streak',String(s));
        localStorage.setItem('compare_best',String(b));
        best.textContent = b>0?('‚òÖ'.repeat(Math.min(b,3))):'‚Äî';
        // save name
        localStorage.setItem('compare_student', student.value || '');
      }

      function explainAnswer(){
        const corr = correctSign();
        if(corr==='=') explain.textContent = '–ß–∏—Å–ª–∞ —Ä–∞–≤–Ω—ã: –æ–±–∞ —Ä–∞–≤–Ω—ã '+left+'.';
        else {
          const tensL = Math.floor(left/10), tensR = Math.floor(right/10);
          if(tensL!==tensR) explain.textContent = '–°—Ä–∞–≤–Ω–∏—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –¥–µ—Å—è—Ç–∫–∏: '+tensL+' –∏ '+tensR+'.';
          else explain.textContent = '–î–µ—Å—è—Ç–∫–∏ —Ä–∞–≤–Ω—ã ‚Äî —Å–º–æ—Ç—Ä–∏–º –µ–¥–∏–Ω–∏—Ü—ã: '+(left%10)+' –∏ '+(right%10)+'.';
        }
      }

      // restart series when user changes series count or level
      function resetSeries(){ seriesCurrent = 0; signButtons.forEach(b=>b.disabled=false); checkBtn.disabled=false; updateProgress(); genPair(); }

      seriesCountEl.addEventListener('change', ()=>{ resetSeries(); });
      levelEl.addEventListener('change', ()=>{ resetSeries(); });

      swapBtn.addEventListener('click', ()=>{ [left,right]=[right,left]; render(); });
      checkBtn.addEventListener('click', check);
      explainBtn.addEventListener('click', explainAnswer);
      allBtn.addEventListener('click', ()=>{ alert('–ü—Ä–∏–º–µ—Ä: 43 > 39 ‚Äî 43 –±–æ–ª—å—à–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–µ—Å—è—Ç–∫–∏ 4>3.'); });

      document.addEventListener('keydown', (e)=>{
        if(e.key==='1') document.getElementById('gtBtn').click();
        if(e.key==='2') document.getElementById('ltBtn').click();
        if(e.key==='3') document.getElementById('eqBtn').click();
        if(e.key==='Enter') check();
      });

      // init
      student.value = localStorage.getItem('compare_student') || '';
      updateProgress();
      genPair();

    })();
  </script>
</body>
</html>